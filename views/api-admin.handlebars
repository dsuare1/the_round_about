{{!-- begin navbar section --}}
<nav id="api-navbar">
	<h1>The Round About</h1>
	<form action="/api-admin/logout" method="POST" id="logout-form">
		<button type="submit" id="api-logout-button">Log out</button>
	</form>
</nav>
{{!-- end navbar section --}}

{{!-- begin search sidebar section --}}
<aside id="api-sidebar">
	<h1 id="albums-header">Albums</h1>
	<div class="search-form-control">
		<form action="/api-admin/albums/search/all" method="GET">
			<button type="submit" id="api-search-all-submit" class="api-search-form-button">Browse All Albums</button>
		</form>
	</div>

	{{!-- begin filter search form --}}
	<h3 class="api-form-section-label">Filter:</h3>
	<form action="/api-admin/albums/search" method="GET">
		<div class="api-search-form-control">
			<label for="artist" class="api-filter-label">Artist</label><br>
			<input type="text" name="artist" class="api-filter" id="filter-artist-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>
			
			<label for="title" class="api-filter-label">Title</label><br>		
			<input type="text" name="title" class="api-filter" id="filter-title-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>
			
			<label for="year" class="api-filter-label">Year</label><br>
			<input type="number" min="1940" name="year" class="api-filter" id="filter-year-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>
			
			<label for="genre" class="api-filter-label">Genre</label><br>		
			<input type="text" name="genre" class="api-filter" id="filter-genre-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>
			
			<label for="format" class="api-filter-label">Format (7 or 12)<br></label>
			<input type="number" name="format" min="7" class="api-filter" id="filter-format-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>
			
			<label for="quantity" class="api-filter-label">Quantity (number)</label><br>
			<input type="number" name="quantity" min="0" class="api-filter" id="filter-quantity-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>
			
			<label for="isStaffPick" class="api-filter-label">isStaffPick (true or false, lowercase)</label><br>
			<input type="text" name="isStaffPick" class="api-filter" id="filter-isStaffPick-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>
		</div>

		<div class="api-search-form-control" id="api-filter-submit-button-container">
			<button type="submit" id="api-search-submit" class="api-search-form-button">Filter Album Search</button>
		</div>
	</form>
	{{!-- end filter search form --}}

	{{!-- begin add album form --}}
	<h3 class="api-form-section-label">Add New Album:</h3>
	<form action="/api-admin/albums/create" method="POST" id="add-new-album" enctype="multipart/form-data">
		<div class="api-search-form-control">
			<label for="artist" class="api-filter-label">Artist</label><br>
			<input type="text" name="artist" class="api-filter" id="create-artist-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>
			
			<label for="title" class="api-filter-label">Title</label><br>
			<input type="text" name="title" class="api-filter" id="create-title-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>
			
			<label for="year" class="api-filter-label">Year</label><br>
			<input type="number" name="year" min="1940" class="api-filter" id="create-year-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>
			
			<label for="genre" class="api-filter-label">Genre</label><br>
			<input type="text" name="genre" class="api-filter" id="create-genre-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>
			
			<label for="price" class="api-filter-label">Price</label><br>
			<input type="number" step="0.01" min="0" name="price" class="api-filter" id="create-price-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>
			
			<label for="format" class="api-filter-label">Format (7 or 12)<br></label>
			<input type="number" name="format" min="7" class="api-filter" id="create-format-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>
			
			<label for="albumCover" class="api-filter-label">Album Cover (500 x 500)<br></label>
			<input type="file" name="albumCover" class="api-filter" id="create-album-cover-input"/><br>
			
			<label for="quantity" class="api-filter-label">Quantity (number)</label><br>
			<input type="number" min="0" name="quantity" class="api-filter" id="create-quantity-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>
			
			<label for="isStaffPick" class="api-filter-label">isStaffPick (true or false, lowercase)</label><br>
			<input type="text" name="isStaffPick" class="api-filter" id="create-isStaffPick-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>
		</div>

		<div class="api-search-form-control" id="api-create-submit-button-container">
			<button type="submit" id="api-add-new-album-submit" class="api-search-form-button">Add New Album</button>
		</div>
	</form>
	{{!-- end all new album form --}}

	{{!-- ************************************** --}}
	{{!-- Events Section --}}
	{{!-- ************************************** --}}

	<h1 id="events-header">Events</h1>
	<div class="search-form-control">
		<form action="/api-admin/events/search/all" method="GET">
			<button type="submit" id="api-search-all-events-submit" class="api-search-form-button">Browse All Events</button>
		</form>
	</div>

	{{!-- begin event filter search form --}}
	<h3 class="api-form-section-label">Filter:</h3>
	<form action="/api-admin/events/search" method="GET">
		<div class="api-search-form-control">
			
			<label for="day" class="api-filter-label">Day</label><br>
			<input type="text" name="day" class="api-filter" id="filter-event-day-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>

			<label for="month" class="api-filter-label">Month</label><br>
			<input type="text" name="month" class="api-filter" id="filter-event-month-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>

			<label for="date" class="api-filter-label">Date</label><br>
			<input type="date" name="date" class="api-filter" id="filter-event-date-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>
			
			<label for="time" class="api-filter-label">Time<span class="api-event-time-format-suggestion">(format: 7:00pm)</span></label><br>
			<input type="text" name="time" class="api-filter" id="filter-event-time-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>
		</div>

		<div class="api-search-form-control" id="api-filter-event-submit-button-container">
			<button type="submit" id="api-event-search-submit" class="api-search-form-button">Filter Event Search</button>
		</div>
	</form>
	{{!-- end event filter search form --}}

	{{!-- begin add event form --}}
	<h3 class="api-form-section-label">Add New Event:</h3>
	<form action="/api-admin/events/create" method="POST" id="add-new-event">
		<div class="api-search-form-control">
			
			<label for="day" class="api-filter-label">Day</label><br>
			<input type="text" name="day" class="api-filter" id="create-event-day-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>

			<label for="month" class="api-filter-label">Month</label><br>
			<input type="text" name="month" class="api-filter" id="create-event-month-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>

			<label for="date" class="api-filter-label">Date</label><br>
			<input type="date" name="date" class="api-filter" id="create-event-date-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>
			
			<label for="time" class="api-filter-label">Time<span class="api-event-time-format-suggestion">(format: 7:00pm)</label><br>
			<input type="text" name="time" class="api-filter" id="create-event-time-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>

			<label for="description" class="api-filter-label">Description</label><br>
			<input type="text" name="description" class="api-filter" id="create-event-description-input" onchange="removeRed()" onkeypress="this.onchange()" onpaste="this.onchange()" oninput="this.onchange()" /><br>
			{{!-- <p id="char-count-label">Character count:<span id="char-count-holder"></span></p> --}}
		</div>

		<div class="api-search-form-control" id="api-create-submit-button-container">
			<button type="submit" id="api-add-new-event-submit" class="api-search-form-button">Add New Event</button>
		</div>
	</form>
	{{!-- end add event form --}}
</aside>
{{!-- end search sidebar section --}}

{{!-- begin search results section --}}
<section id="api-search-results">
	{{#if noResMessage}}
	<div class="api-no-results-message-container">
		<p class="api-no-results-message">{{noResMessage}}</p>
	</div>
	{{/if}}

	{{#if deletedAlbum}}
	<div class="api-deleted-album-message-container">
		<p class="api-deleted-album-message">The following album was deleted from the database:</p>
		<p class="api-deleted-album-details">Album ID: {{deletedAlbum._id}}</p>
		<p class="api-deleted-album-details">Album Artist: {{deletedAlbum.artist}}</p>
		<p class="api-deleted-album-details">Album Title: {{deletedAlbum.title}}</p>
	</div>

	<form action="/api-admin/albums/create" method="POST">
		<input class="api-search-results-album-artist api-search-results-label" value="{{deletedAlbum.artist}}" name="artist" type="hidden" /><br>
		<input class="api-search-results-album-title api-search-results-label" value="{{deletedAlbum.title}}" name="title" type="hidden" /><br>
		<input class="api-search-results-album-year api-search-results-label" value="{{deletedAlbum.year}}" name="year" type="hidden" /><br>
		<input class="api-search-results-album-genre api-search-results-label" value="{{deletedAlbum.genre}}" name="genre" type="hidden" /><br>
		<input class="api-search-results-album-price api-search-results-label" value="{{deletedAlbum.price}}" name="price" type="hidden" /><br>
		<input class="api-search-results-album-format api-search-results-label" value="{{deletedAlbum.format}}" name="format" type="hidden" /><br>
		<input class="api-search-results-album-albumCover api-search-results-label" value="{{deletedAlbum.albumCover}}" name="albumCover" type="hidden" /><br>
		<input class="api-search-results-album-quantity api-search-results-label" value="{{deletedAlbum.quantity}}" name="quantity" type="hidden" /><br>
		<input class="api-search-results-album-isStaffPick api-search-results-label" value="{{deletedAlbum.isStaffPick}}" name="isStaffPick" type="hidden" />
		<p id="re-add-label">Didn't mean to delete that album?  Add it back to the database here:</p>
		<button type="submit" id="re-add-button">Re-add Album</button>
	</form>

	{{/if}}

	{{#if updatedAlbum}}
	<div class="api-updated-album-message-container">
		<p class="api-updated-album-message">Album updated; changes in the database are reflected below:</p>
		<p class="api-updated-album-details"><span style="font-weight: 700;">Album ID:</span> {{updatedAlbum._id}}</p>
		<p class="api-updated-album-details"><span style="font-weight: 700;">Album Artist:</span> {{updatedAlbum.artist}}</p>
		<p class="api-updated-album-details"><span style="font-weight: 700;">Album Title:</span> {{updatedAlbum.title}}</p>
		<p class="api-updated-album-details"><span style="font-weight: 700;">Album Year:</span> {{updatedAlbum.year}}</p>
		<p class="api-updated-album-details"><span style="font-weight: 700;">Album Genre:</span> {{updatedAlbum.genre}}</p>
		<p class="api-updated-album-details"><span style="font-weight: 700;">Album price:</span> {{updatedAlbum.price}}</p>
		<p class="api-updated-album-details"><span style="font-weight: 700;">Album Format:</span> {{updatedAlbum.format}}</p>
		<p class="api-updated-album-details"><span style="font-weight: 700;">Album cover file path:</span> {{updatedAlbum.albumCover}}</p>
		<p class="api-updated-album-details"><span style="font-weight: 700;">Album Quantity:</span> {{updatedAlbum.quantity}}</p>
		<p class="api-updated-album-details"><span style="font-weight: 700;">Staff Pick?</span> {{updatedAlbum.isStaffPick}}</p>
	</div>
	{{/if}}

	{{#if createdAlbum}}
	<div class="api-created-album-message-container">
		<p class="api-created-album-message">The following album was added to the database:</p>
		<p class="api-created-album-details"><span style="font-weight: 700;">Album ID:</span> {{createdAlbum._id}}</p>
		<p class="api-created-album-details"><span style="font-weight: 700;">Album Artist:</span> {{createdAlbum.artist}}</p>
		<p class="api-created-album-details"><span style="font-weight: 700;">Album Title:</span> {{createdAlbum.title}}</p>
		<p class="api-created-album-details"><span style="font-weight: 700;">Album Year:</span> {{createdAlbum.year}}</p>
		<p class="api-created-album-details"><span style="font-weight: 700;">Album Genre:</span> {{createdAlbum.genre}}</p>
		<p class="api-created-album-details"><span style="font-weight: 700;">Album price:</span> {{createdAlbum.price}}</p>
		<p class="api-created-album-details"><span style="font-weight: 700;">Album Format:</span> {{createdAlbum.format}}</p>
		<p class="api-created-album-details"><span style="font-weight: 700;">Album cover file path:</span> {{createdAlbum.albumCover}}</p>
		<p class="api-created-album-details"><span style="font-weight: 700;">Album Quantity:</span> {{createdAlbum.quantity}}</p>
		<p class="api-created-album-details"><span style="font-weight: 700;">Staff Pick?</span> {{createdAlbum.isStaffPick}}</p>
	</div>
	{{/if}}

	{{#each albums}}
		<div class="api-search-results-item">
			<img src="{{this.albumCover}}" width="125px" height="125px" class="api-search-results-album-cover" alt="Album Cover">
			<div class="api-search-results-details-labels">
				<p class="api-search-results-input-label">Artist:</p><br/>
				<p class="api-search-results-input-label">Album Title:</p><br/>
				<p class="api-search-results-input-label">Year:</p><br/>
				<p class="api-search-results-input-label">Genre:</p><br/>
				<p class="api-search-results-input-label">Price:</p><br/>
				<p class="api-search-results-input-label">Format:</p><br/>
				<p class="api-search-results-input-label">Album Cover File Path:</p><br/>
				<p class="api-search-results-input-label">Quantity:</p><br/>
				<p class="api-search-results-input-label">Staff Pick:</p>
			</div>
			<div class="api-search-results-details">
				<form action="/api-admin/albums/update/{{this.id}}?_method=PUT" method="POST">
					<input class="api-search-results-album-artist api-search-results-label update-artist-input" value="{{this.artist}}" name="artist"/><br>
					<input class="api-search-results-album-title api-search-results-label update-title-input" value="{{this.title}}" name="title"/><br>
					<input class="api-search-results-album-year api-search-results-label update-year-input" value="{{this.year}}" name="year"/><br>
					<input class="api-search-results-album-genre api-search-results-label update-genre-input" value="{{this.genre}}" name="genre"/><br>
					<input class="api-search-results-album-price api-search-results-label update-price-input" value="{{this.price}}" name="price"/><br>
					<input class="api-search-results-album-format api-search-results-label update-format-input" value="{{this.format}}" name="format"/><br>
					<input class="api-search-results-album-albumCover api-search-results-label update-albumCover-input" value="{{this.albumCover}}" name="albumCover"/><br>
					<input class="api-search-results-album-quantity api-search-results-label update-quantity-input" value="{{this.quantity}}" name="quantity"/><br>
					<input class="api-search-results-album-isStaffPick api-search-results-label update-isStaffPick-input" value="{{this.isStaffPick}}" name="isStaffPick"/>
					<button type="submit" class="update-button">Update</button>
				</form>
			</div>
			<div class="api-search-results-buttons-container">
				<form action="/api-admin/albums/delete/{{this.id}}?_method=DELETE" method="POST">
					<button type="submit" class="delete-button">Delete</button>
				</form>
			</div>
		</div>
	{{/each}}

	{{!-- begin events collection rendering --}}
	{{#each allEvents}}
	<div class="api-search-events-item">
		<div class="api-event-search-results-details-labels">
			<p class="api-search-results-input-label">Day:</p><br/>
			<p class="api-search-results-input-label">Month:</p><br/>
			<p class="api-search-results-input-label">Date:</p><br/>
			<p class="api-search-results-input-label">Time:</p><br/>
			<p class="api-search-results-input-label">Description:</p><br/>
		</div>
		<div class="api-search-results-details">
			<form action="/api-admin/events/update/{{this.id}}?_method=PUT" method="POST">
				<input class="api-search-results-event-day api-search-results-label update-day-input" value="{{this.day}}" name="day"/><br>
				<input class="api-search-results-event-month api-search-results-label update-month-input" value="{{this.month}}" name="month"/><br>
				<input class="api-search-results-event-date api-search-results-label update-date-input" value="{{this.date}}" name="date"/><br>
				<input class="api-search-results-event-time api-search-results-label update-time-input" value="{{this.time}}" name="time"/><br>
				<input class="api-search-results-event-description api-search-results-label update-description-input" value="{{this.description}}" name="description"/>
				<button type="submit" class="update-button">Update</button>
			</form>
		</div>
		<div class="api-search-results-buttons-container">
			<form action="/api-admin/events/delete/{{this.id}}?_method=DELETE" method="POST">
				<button type="submit" class="delete-button">Delete</button>
			</form>
		</div>

	</div>
	{{/each}}

	{{!-- begin filtered events rendering --}}
	{{#each filteredEvents}}
	<div class="api-filtered-events-item">
		<div class="api-event-search-results-details-labels">
			<p class="api-search-results-input-label">Day:</p><br/>
			<p class="api-search-results-input-label">Month:</p><br/>
			<p class="api-search-results-input-label">Date:</p><br/>
			<p class="api-search-results-input-label">Time:</p><br/>
			<p class="api-search-results-input-label">Description:</p><br/>
		</div>
		<div class="api-search-results-details">
			<form action="/api-admin/events/update/{{this.id}}?_method=PUT" method="POST">
				<input class="api-search-results-event-day api-search-results-label update-day-input" value="{{this.day}}" name="day"/><br>
				<input class="api-search-results-event-month api-search-results-label update-month-input" value="{{this.month}}" name="month"/><br>
				<input class="api-search-results-event-date api-search-results-label update-date-input" value="{{this.date}}" name="date"/><br>
				<input class="api-search-results-event-time api-search-results-label update-time-input" value="{{this.time}}" name="time"/><br>
				<input class="api-search-results-event-description api-search-results-label update-description-input" value="{{this.description}}" name="description"/>
				<button type="submit" class="update-button">Update</button>
			</form>
		</div>
		<div class="api-search-results-buttons-container">
			<form action="/api-admin/events/delete/{{this.id}}?_method=DELETE" method="POST">
				<button type="submit" class="delete-button">Delete</button>
			</form>
		</div>
	</div>
	{{/each}}
	{{!-- end filtered events rendering --}}

	{{!-- begin created event rendering --}}
	{{#if createdEvent}}
	<div class="api-created-event-message-container">
		<p class="api-created-event-message">The following event was added to the database:</p>
		<p class="api-created-event-details"><span style="font-weight: 700;">Event ID:</span> {{createdEvent._id}}</p>
		<p class="api-created-event-details"><span style="font-weight: 700;">Day:</span> {{createdEvent.day}}</p>
		<p class="api-created-event-details"><span style="font-weight: 700;">Month:</span> {{createdEvent.month}}</p>
		<p class="api-created-event-details"><span style="font-weight: 700;">Date:</span> {{createdEvent.date}}</p>
		<p class="api-created-event-details"><span style="font-weight: 700;">Time:</span> {{createdEvent.time}}</p>
		<p class="api-created-event-details"><span style="font-weight: 700;">Description:</span> {{createdEvent.description}}</p>
	</div>
	{{/if}}
	{{!-- end created event rendering --}}

	{{!-- begin updated event rendering --}}
	{{#if updatedEvent}}
	<div class="api-updated-event-message-container">
		<p class="api-updated-event-message">Event updated; changes in the database are reflected below:</p>
		<p class="api-updated-event-details"><span style="font-weight: 700;">Event ID:</span> {{updatedEvent._id}}</p>
		<p class="api-updated-event-details"><span style="font-weight: 700;">Day:</span> {{updatedEvent.day}}</p>
		<p class="api-updated-event-details"><span style="font-weight: 700;">Month:</span> {{updatedEvent.month}}</p>
		<p class="api-updated-event-details"><span style="font-weight: 700;">Date:</span> {{updatedEvent.date}}</p>
		<p class="api-updated-event-details"><span style="font-weight: 700;">Time:</span> {{updatedEvent.time}}</p>
		<p class="api-updated-event-details"><span style="font-weight: 700;">Description:</span> {{updatedEvent.description}}</p>
	</div>
	{{/if}}
	{{!-- end updated event rendering --}}

	{{!-- begin deleted event rendering --}}
	{{#if deletedEvent}}
	<div class="api-deleted-event-message-container">
		<p class="api-deleted-event-message">The following event was deleted from the database:</p>
		<p class="api-deleted-event-details">Event ID: {{deletedEvent._id}}</p>
		<p class="api-deleted-event-details">Day: {{deletedEvent.day}}</p>
		<p class="api-deleted-event-details">Month: {{deletedEvent.month}}</p>
		<p class="api-deleted-event-details">Date: {{deletedEvent.date}}</p>
		<p class="api-deleted-event-details">Time: {{deletedEvent.time}}</p>
		<p class="api-deleted-event-details">Description: {{deletedEvent.description}}</p>
	</div>

	<form action="/api-admin/events/create" method="POST">
		<input value="{{deletedEvent.day}}" name="day" type="hidden" /><br>
		<input value="{{deletedEvent.month}}" name="month" type="hidden" /><br>
		<input value="{{deletedEvent.date}}" name="date" type="hidden" /><br>
		<input value="{{deletedEvent.time}}" name="time" type="hidden" /><br>
		<input value="{{deletedEvent.description}}" name="description" type="hidden" /><br>
		<p id="re-add-label">Didn't mean to delete that event?  Add it back to the database here:</p>
		<button type="submit" id="re-add-button">Re-add Event</button>
	</form>
	{{/if}}
	{{!-- end deleted event rendering --}}

	{{!-- end events collection rendering --}}
</section>
{{!-- end search results section --}}

<script src="/assets/js/api-form-validation.js"></script>